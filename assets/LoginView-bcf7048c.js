import{s as u,g as p,a as _,c as h,e as s,j as v,i as n,x as i}from"./index-df55983b.js";import{a as f}from"./axios-3a76d256.js";const w={class:"login"},b={class:"min-vh-100 d-flex justify-content-center align-items-center"},x={class:"w-25"},g=s("h2",{class:"text-center"},"管理者登入",-1),E={class:"mb-3"},V=s("label",{for:"username",class:"form-label"},"Email",-1),y={class:"mb-3"},A=s("label",{for:"password",class:"form-label"},"Password",-1),I=s("div",{class:"d-grid gap-2"},[s("button",{class:"btn btn-primary",type:"submit"},"登入")],-1),S={__name:"LoginView",setup(k){const{VITE_API_BASE:l}={VITE_API_BASE:"https://ec-course-api.hexschool.io/v2",VITE_API_PATH:"hexschool-billyji",BASE_URL:"/vue-2023-week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},r=u(),o=p({username:"",password:""}),c=()=>{const t=`${l}/admin/signin`,a={username:o.value.username,password:o.value.password};f.post(t,a).then(e=>{alert(e.data.message);const{token:d,expired:m}=e.data;document.cookie=`hexToken=${d};expired=${new Date(m)}; path=/`,r.push("/admin/products")}).catch(e=>{console.log(e)})};return(t,a)=>(_(),h("div",w,[s("div",b,[s("div",x,[g,s("form",{class:"mt-4",onSubmit:v(c,["prevent"])},[s("div",E,[V,n(s("input",{type:"email",class:"form-control",id:"username","aria-describedby":"emailHelp","onUpdate:modelValue":a[0]||(a[0]=e=>o.value.username=e)},null,512),[[i,o.value.username]])]),s("div",y,[A,n(s("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":a[1]||(a[1]=e=>o.value.password=e)},null,512),[[i,o.value.password]])]),I],32)])])]))}};export{S as default};
