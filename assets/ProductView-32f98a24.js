import{g as v,o as g,r as f,a as n,c,e as t,F as _,h as m,t as a,i as x,v as y,b as k,w as S,j as w,k as L,n as N,d as C,u as I,l as P}from"./index-df55983b.js";import{a as V}from"./axios-3a76d256.js";import{u as D,a as $}from"./useCartStore-6a9ceb38.js";const j={class:"product mt-5"},B={class:"container"},M={class:"row align-items-start"},R={class:"col-md-6"},E={id:"carouselProductImages",class:"carousel slide"},F={class:"carousel-inner"},T=["src"],U=L('<button class="carousel-control-prev" type="button" data-bs-target="#carouselProductImages" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselProductImages" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2),z={class:"col-md-6"},q={class:"h2"},A={class:"mb-3 flex"},G={class:"mt-2"},H=t("label",{for:"classNum"},"課程數量：",-1),J=["value"],K={class:"d-flex justify-content-start mt-4"},Y={__name:"ProductView",setup(O){const h=D(),r=$(),e=v({}),i=v(1),b=()=>{r.changeIsLoading(!0);const l=P(),{id:o}=l.params,d=`https://ec-course-api.hexschool.io/v2/api/hexschool-billyji/product/${o}`;V.get(d).then(s=>{e.value=s.data.product,r.changeIsLoading(!1)}).catch(s=>{console.log(s),r.changeIsLoading(!1)})},u=l=>new Date(l).toLocaleString("sv");return g(()=>{b()}),(l,o)=>{const d=f("RouterLink");return n(),c("div",j,[t("div",B,[t("div",M,[t("div",R,[t("div",E,[t("div",F,[(n(!0),c(_,null,m(e.value.imagesUrl,(s,p)=>(n(),c("div",{class:N(["carousel-item",{active:p===0}]),key:p+"product.title"},[t("img",{src:s,class:"d-block w-100"},null,8,T)],2))),128))]),U])]),t("div",z,[t("h2",q,a(e.value.title),1),t("p",null,a(e.value.content),1),t("p",null," 課程時間："+a(u(e.value.datetimeStart))+" ~ "+a(u(e.value.datetimeEnd)),1),t("div",A,[t("del",null,"原價："+a(e.value.origin_price),1),t("h5",null,"特價只要："+a(e.value.price),1)]),t("div",G,[H,x(t("select",{id:"classNum",class:"form-select","onUpdate:modelValue":o[0]||(o[0]=s=>i.value=s)},[(n(),c(_,null,m(20,s=>t("option",{value:s,key:s},a(s),9,J)),64))],512),[[y,i.value]])]),t("div",K,[k(d,{to:"/products",class:"btn btn-outline-primary me-2"},{default:S(()=>[C("回課程頁")]),_:1}),t("button",{type:"button",class:"btn btn-primary",onClick:o[1]||(o[1]=w(s=>I(h).addToCart(e.value.id,i.value),["prevent"]))}," 加入購物車 ")])])])])])}}};export{Y as default};
